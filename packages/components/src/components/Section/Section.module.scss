.section {
  margin-block: var(--section--section-to-section-spacing);
  display: flex;
  flex-direction: column;
  row-gap: var(--section--content-to-content-spacing);

  &:has(.switch) {
    display: grid;
    grid-template-areas:
      "heading switch"
      "content content";
    column-gap: var(--section--heading-to-switch-spacing);
  }

  &:first-child {
    margin-top: 0;
  }

  &:last-child {
    margin-bottom: 0;
  }

  + .section {
    border-top-width: var(--section--border-width);
    border-top-style: var(--section--border-style);
    border-top-color: var(--section--border-color);
    padding-top: var(--section--section-to-section-spacing);
  }
}

.heading {
  grid-area: heading;
}

.switch {
  grid-area: switch;
  align-self: start;
  line-height: calc(var(--heading--h2-font-size) * 1.5);
}

.content {
  grid-area: content;
  display: flex;
  flex-direction: column;
  row-gap: var(--section--content-to-content-spacing);
}

@media (max-width: 550px) {
  .section {
    &:has(.switch) {
      display: flex;
    }
    .switch {
      align-self: end;
      line-height: var(--line-height--default);
    }
  }
}
